<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeFire Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- === FAVICON SETUP === -->
    <link id="favicon" rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="manifest" href="data:application/json;base64,ewogICJzaG9ydF9uYW1lIjogIkNvZGVGaXJlIiwKICAibmFtZSI6ICJDb2RlRmlyZSAtIEZyZXNoIEljb24gRGVtbyIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImFuZHJvaWQtY2hyb21lLTE5MngxOTIucG5nIiwKICAgICAgInR5cGUiOiAiaW1hZ2UvcG5nIiwKICAgICAgInNpemVzIjogIjE5MngxOTIiCiAgICB9LAogICAgewogICAgICAic3JjIjogImFuZHJvaWQtY2hyb21lLTUxMng1MTIucG5nIiwKICAgICAgInR5cGUiOiAiaW1hZ2UvcG5nIiwKICAgICAgInNpemVzIjogIjUxMng1MTIiCiAgICB9CiAgXSwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJ0aGVtZV9jb2xvciIjogIiNjNTAwMDAiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiMxMTExMTgiCn0=">
    <meta name="theme-color" content="#c50000">
    <!-- === END FAVICON SETUP === -->

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .page-content { display: none; }
        .page-content.active { display: block; animation: fadeIn 0.5s ease-in-out; }
        .nav-link.active { background-color: #c50000; color: white; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 95, 0, 0.7); } 50% { transform: scale(1.05); box-shadow: 0 0 20px 30px rgba(255, 95, 0, 0); } }
        @keyframes pop { 0% { transform: scale(0.5); opacity: 0; } 50% { transform: scale(1.2); opacity: 1; } 100% { transform: scale(1); } }
        
        .reaction-icon { animation: pop 0.3s ease-out; }
        #preloader { transition: opacity 0.5s ease-out; }
        #preloader img { animation: pulse 2s infinite; }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 antialiased">

    <!-- Preloader -->
    <div id="preloader" class="fixed inset-0 bg-gray-900 flex items-center justify-center z-50">
        <img src="android-chrome-192x192.png" alt="Loading..." class="h-24 w-24 rounded-2xl">
    </div>

    <div class="flex min-h-screen">
        <!-- Sidebar Navigation -->
        <aside class="w-20 md:w-64 bg-gray-900 border-r border-gray-700/50 flex flex-col">
            <div class="h-20 flex items-center justify-center shrink-0">
                <img src="android-chrome-192x192.png" alt="Site Logo" class="h-10 w-10 rounded-lg">
                <span class="ml-3 text-xl font-bold hidden md:inline">CodeFire</span>
            </div>
            <nav id="navigation" class="flex-1 px-2 md:px-4 py-6 space-y-2">
                <a href="#" class="nav-link flex items-center justify-center md:justify-start px-2 md:px-4 py-3 rounded-lg hover:bg-gray-700 transition" data-page="dashboard">
                    <i data-lucide="layout-dashboard"></i><span class="ml-4 hidden md:inline">Dashboard</span>
                </a>
                <a href="#" class="nav-link flex items-center justify-center md:justify-start px-2 md:px-4 py-3 rounded-lg hover:bg-gray-700 transition" data-page="projects">
                    <i data-lucide="flame"></i><span class="ml-4 hidden md:inline">Projects</span>
                </a>
                <a href="#" class="nav-link flex items-center justify-center md:justify-start px-2 md:px-4 py-3 rounded-lg hover:bg-gray-700 transition" data-page="settings">
                    <i data-lucide="settings"></i><span class="ml-4 hidden md:inline">Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <!-- Header -->
            <header class="h-20 bg-gray-900/80 backdrop-blur-sm border-b border-gray-700/50 flex items-center justify-between px-8 shrink-0">
                <h1 id="page-title" class="text-xl font-semibold">Dashboard</h1>
                <div class="flex items-center space-x-6">
                    <!-- Notification Icon with Badge -->
                    <div id="notification-bell" class="relative cursor-pointer">
                        <i data-lucide="bell"></i>
                        <span id="notification-badge" class="absolute -top-2 -right-2 bg-red-600 rounded-full h-5 w-5 text-xs flex items-center justify-center border-2 border-gray-900 font-bold">3</span>
                    </div>
                    <!-- User Avatar -->
                    <div class="flex items-center space-x-3">
                        <span class="hidden sm:inline">User</span>
                        <img src="apple-touch-icon.png" alt="User Avatar" class="h-10 w-10 rounded-full border-2 border-gray-600">
                    </div>
                </div>
            </header>

            <!-- Main Content Area -->
            <main class="flex-1 p-4 md:p-8 overflow-y-auto">
                
                <!-- Dashboard Content -->
                <div id="dashboard" class="page-content">
                    <p class="text-gray-400 mb-6">Here are a few ways your icon is used across the app:</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-gray-800 p-6 rounded-lg">
                            <h3 class="font-semibold mb-2">As a User Avatar</h3>
                            <p class="text-gray-400 text-sm">The top-right corner uses `apple-touch-icon.png` as a high-quality default profile picture.</p>
                        </div>
                        <div class="bg-gray-800 p-6 rounded-lg">
                            <h3 class="font-semibold mb-2">As a Notification Badge</h3>
                            <p class="text-gray-400 text-sm">A counter badge on the bell icon is a classic UI pattern to draw attention. It makes the icon functional.</p>
                        </div>
                        <div class="bg-gray-800 p-6 rounded-lg">
                            <h3 class="font-semibold mb-2">Dynamic Favicon</h3>
                            <p class="text-gray-400 text-sm">Click the button below to simulate getting a new message. The page title and favicon will change to alert you!</p>
                            <button id="simulate-message-btn" class="mt-3 bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded-lg transition">Simulate Message</button>
                        </div>
                    </div>
                </div>

                <!-- Projects Content -->
                <div id="projects" class="page-content">
                    <div class="flex justify-between items-center mb-6">
                        <p class="text-gray-400">Your icon can be used in lists and on action buttons.</p>
                        <button class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition">
                            <img src="favicon-16x16.png" alt="icon" class="h-4 w-4 mr-2">
                            <span>New Project</span>
                        </button>
                    </div>
                    <div class="bg-gray-800 rounded-lg p-6">
                        <ul>
                           <li class="flex items-center py-3 border-b border-gray-700">
                                <img src="favicon-32x32.png" alt="item icon" class="h-6 w-6 mr-4"><span class="flex-1">Project Alpha</span> <span class="text-xs text-gray-500">Active</span>
                           </li>
                           <li class="flex items-center py-3 border-b border-gray-700">
                                <img src="favicon-32x32.png" alt="item icon" class="h-6 w-6 mr-4"><span class="flex-1">Project Beta</span> <span class="text-xs text-gray-500">Active</span>
                           </li>
                           <li class="flex items-center py-3">
                                <img src="favicon-32x32.png" alt="item icon" class="h-6 w-6 mr-4"><span class="flex-1">Project Gamma</span> <span class="text-xs text-green-500">Completed</span>
                           </li>
                        </ul>
                    </div>
                </div>

                <!-- Settings Content -->
                <div id="settings" class="page-content">
                     <p class="text-gray-400 mb-6">Use your icon as an "emoji" or "reaction" to make the UI more engaging.</p>
                     <div class="bg-gray-800 rounded-lg p-6 max-w-md">
                        <h3 class="font-semibold text-lg">Community Post</h3>
                        <p class="text-gray-400 mt-2 mb-4">Here's an update on our latest release. We've added new features and fixed several bugs. Let us know what you think!</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-gray-500">Posted 2 hours ago</span>
                            <button id="react-btn" class="relative group bg-gray-700 hover:bg-gray-600 p-2 rounded-full transition">
                                <span class="text-xl">ðŸ”¥</span>
                                <div class="absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-gray-900 px-2 py-1 rounded-md text-xs opacity-0 group-hover:opacity-100 transition">React with Fire</div>
                                <div id="reaction-container" class="absolute -top-4 -right-4"></div>
                            </button>
                        </div>
                     </div>
                </div>

            </main>
        </div>
    </div>

    <script>
        lucide.createIcons();

        document.addEventListener('DOMContentLoaded', () => {
            // --- Preloader Logic ---
            const preloader = document.getElementById('preloader');
            window.addEventListener('load', () => {
                setTimeout(() => {
                    preloader.style.opacity = '0';
                    setTimeout(() => preloader.style.display = 'none', 500);
                }, 500); // Minimum load time
            });

            // --- Navigation Logic ---
            const navigation = document.getElementById('navigation');
            const navLinks = navigation.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page-content');
            const pageTitle = document.getElementById('page-title');
            
            const showPage = (pageId) => {
                const pageToShow = document.getElementById(pageId);
                if (!pageToShow) return;
                
                pages.forEach(page => page.classList.remove('active'));
                pageToShow.classList.add('active');

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.dataset.page === pageId) {
                        link.classList.add('active');
                        pageTitle.textContent = link.textContent.trim();
                    }
                });
            };

            navigation.addEventListener('click', (event) => {
                const navLink = event.target.closest('.nav-link');
                if (navLink) {
                    event.preventDefault();
                    showPage(navLink.dataset.page);
                }
            });

            // Show dashboard by default
            showPage('dashboard');

            // --- Dynamic Favicon Logic ---
            const simulateMessageBtn = document.getElementById('simulate-message-btn');
            const favicon = document.getElementById('favicon');
            const originalTitle = document.title;
            const originalFavicon = favicon.href;
            const alertFavicon = 'favicon-32x32.png'; // Use a different size for effect
            let intervalId = null;

            simulateMessageBtn.addEventListener('click', () => {
                if (intervalId) return; // Prevent multiple clicks

                let isOriginal = true;
                intervalId = setInterval(() => {
                    document.title = isOriginal ? '(1) New Message!' : originalTitle;
                    favicon.href = isOriginal ? alertFavicon : originalFavicon;
                    isOriginal = !isOriginal;
                }, 1000);

                // Stop after 10 seconds or when user interacts
                const stopAlert = () => {
                    clearInterval(intervalId);
                    intervalId = null;
                    document.title = originalTitle;
                    favicon.href = originalFavicon;
                    window.removeEventListener('focus', stopAlert);
                    simulateMessageBtn.textContent = "Simulate Message";
                };
                
                setTimeout(stopAlert, 10000);
                window.addEventListener('focus', stopAlert, { once: true });
                simulateMessageBtn.textContent = "Message active...";
            });

            // --- Reaction Button Logic ---
            const reactBtn = document.getElementById('react-btn');
            const reactionContainer = document.getElementById('reaction-container');

            reactBtn.addEventListener('click', () => {
                const reaction = document.createElement('img');
                reaction.src = 'favicon-32x32.png';
                reaction.className = 'reaction-icon h-8 w-8 absolute';
                
                reactionContainer.innerHTML = ''; // Clear previous reactions
                reactionContainer.appendChild(reaction);

                setTimeout(() => {
                    reaction.remove();
                }, 1000);
            });
        });
    </script>
</body>
</html>

